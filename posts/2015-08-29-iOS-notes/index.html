<!DOCTYPE html><html lang="zh"><head><title>pdğŸ¤© - iOS Developer</title><meta name="twitter:title" content="pdğŸ¤© - iOS Developer"/><meta name="og:title" content="pdğŸ¤© - iOS Developer"/><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css"/><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"/><link rel="stylesheet" href="/Pure/styles.css"/><link rel="stylesheet" href="/all.css"/></head><body><div id="layout" class="pure-g"><div><div class="pure-menu pure-menu-horizontal pure-u-1-1 top-header"><a class="pure-menu-heading" href="/">Just do it</a><ul class="pure-menu-list"><li class="pure-menu-item"><a class="pure-menu-link" href="/about">About</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/posts">Notes</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/life">Life</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/other">Other</a></li></ul></div></div><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="header"><div id="layout" class="pure-g"><div class="author__avatar"><img src="https://avatars.githubusercontent.com/u/8196592?v=4"/></div><div class="pure-u-md-1-1 pure-u-3-4"><h1 class="brand-title">pdğŸ¤©</h1><h3 class="brand-tagline">iOS Developer</h3></div></div><div id="layout" class="pure-g"><div class="pure-u-md-1-1"><a href="https://en.wikipedia.org/wiki/Shenzhen"><i class="fas fa-map-marker-alt l-box social-icon"></i><a class="social-media" href="https://en.wikipedia.org/wiki/Shenzhen">æ·±åœ³, å¹¿ä¸œ</a></a></div><div class="pure-u-md-1-1"><a href="mailto:alan.funs@gmail.com"><i class="fas fa-envelope-open-text l-box social-icon"></i><a class="social-media" href="mailto:alan.funs@gmail.com">Email</a></a></div><div class="pure-u-md-1-1"><a href="https://github.com/pdso"><i class="fab fa-github-square l-box social-icon"></i><a class="social-media" href="https://github.com/pdso">GitHub</a></a></div></div></div></div><div class="content pure-u-1 pure-u-md-3-5 pure-u-xl-6-10"><h2 class="post-title"><a href="/posts/2015-08-29-iOS-notes">iOS-notes</a></h2><div class="post-meta"><div class="post-date">August 29, 2015</div><div class="post-tags"><a class="post-category post-category-ios tag variant-1" href="/tags/ios">iOS</a><a class="post-category post-category-uikit tag variant-6" href="/tags/uikit">UIKit</a></div></div><div class="post-description"><div><blockquote><p>å¾ˆå¤šæ¥è‡ª<a href="http://stackoverflow.com">stackoverflow</a></p></blockquote><h2>ä»£ç </h2><ul><li>ä½¿ç”¨storyBoardçš„æ—¶å€™ <code>adding subview to UIImageView</code> æ‹–ä¸€ä¸ª<code>UIView</code>æŠŠå®ƒçš„ç±»å‹æ”¹ä¸º<code>UIImageView</code>è¿™æ—¶å€™å°±èƒ½åœ¨è¿™ä¸ª<code>View</code>åœ¨æ·»åŠ å­è§†å›¾äº†ã€‚</li></ul><ul><li>åƒ<code>tree</code> å‘½ä»¤ä¸€æ ·æ˜¾ç¤º<code>view</code>çš„å±‚æ¬¡ç»“æ„ã€‚</li></ul><pre data-language="Swift"><code>[<span class="hljs-keyword">self</span>.view recursiveDescription]
</code></pre><ul><li><code>tableView</code>æ»šåŠ¨çš„æ—¶å€™å§‹ç»ˆä»¥<code>row</code>çš„é«˜åº¦ä¸ºå•ä½ã€‚ é¦–å…ˆæƒ³åˆ°çš„æ˜¯<code>tableView</code>ç»§æ‰¿è‡ª<code>scrollView</code>ä¹Ÿæœ‰<code>pagingEnabled</code>å±æ€§ã€‚ è®¾ç½®è¿™ä¸ªå±æ€§ä¹‹åä¼šå‘ç°,æ»šåŠ¨çš„æ—¶å€™æ˜¯ä»¥<code>tableView</code>çš„<code>height</code>ä¸ºå•ä½æ»šçš„ã€‚ å®ç°ä»¥ä¸‹è¿™ä¸ªä»£ç†æ–¹æ³•å°±å¯ä»¥è§£å†³äº†,æ»šåŠ¨ç»“æŸçš„æ—¶å€™å§‹ç»ˆåœç•™åœ¨æŸä¸ª<code>row</code>ä¸Šé¢å¹¶ä¸”è¿˜èƒ½å¤Ÿè·å¾—<code>indexPath</code>.</li></ul><pre data-language="Swift"><code>-(void)scrollViewWillEndDragging:(<span class="hljs-type">UIScrollView</span>*)scrollView withVelocity:(<span class="hljs-type">CGPoint</span>)velocity targetContentOffset:(<span class="hljs-keyword">inout</span> <span class="hljs-type">CGPoint</span>*)targetContentOffset {

    <span class="hljs-comment">// Get index path for target row</span>
    <span class="hljs-type">NSIndexPath</span>* indexPath = [<span class="hljs-keyword">self</span>.tableView indexPathForRowAtPoint:(*targetContentOffset)];

    <span class="hljs-comment">// Set new target</span>
    (*targetContentOffset) = [<span class="hljs-keyword">self</span>.tableView rectForRowAtIndexPath:indexPath].origin;
}
</code></pre><ul><li>å»æ‰tableViewå¤šä½™çš„è¡Œ ä¹‹å‰ä¸€ç›´æ ¹æ®è¡Œæ•°æ¥è®¾ç½®tableViewçš„é«˜åº¦ğŸ˜‚å…¶å®ä¸ç”¨è¿™ä¹ˆéº»çƒ¦<ul></ul></li></ul><pre data-language="Swift"><code>  <span class="hljs-keyword">self</span>.tableView.tableFooterView = [<span class="hljs-type">UIView</span> alloc] <span class="hljs-keyword">init</span>]
</code></pre><ul><li>ç‚¹å‡»self.view é”®ç›˜æ”¶èµ·</li></ul><pre data-language="swift"><code>- (void) touchesBegan:(<span class="hljs-type">NSSet</span>&lt;<span class="hljs-type">UITouch</span> *&gt; *)touches withEvent:(<span class="hljs-type">UIEvent</span> *)event{
    [_searchBar endEditing:<span class="hljs-type">YES</span>];
}
</code></pre><p>å…¶å®è¿˜æœ‰ä¸€ä¸ªç¥å™¨<a href="https://github.com/hackiftekhar/IQKeyboardManager">IQKeyboardManager</a></p><ul><li>æ›´æ”¹UIæ§ä»¶ç³»ç»Ÿé»˜è®¤æ ·å¼</li></ul><pre data-language="Swift"><code><span class="hljs-comment">//é»‘è‰²æ”¹ç™½è‰² ä¸è¦å¿˜è®°è®¾ç½®plist</span>
[[<span class="hljs-type">UIApplication</span> sharedApplication] setStatusBarStyle:<span class="hljs-type">UIStatusBarStyleLightContent</span>];
<span class="hljs-comment">//å¯¼èˆªæ¡é¢œè‰²</span>
[[<span class="hljs-type">UINavigationBar</span> appearance] setBarTintColor:[<span class="hljs-type">UIColor</span> whiteColor]];
<span class="hljs-comment">//titleçš„é¢œè‰²å’Œå­—ä½“</span>
[[<span class="hljs-type">UINavigationBar</span> appearance] setTitleTextAttributes:@{<span class="hljs-type">NSForegroundColorAttributeName</span>:[<span class="hljs-type">UIColor</span> whiteColor], <span class="hljs-type">NSFontAttributeName</span>:[<span class="hljs-type">UIFont</span> systemFontOfSize:<span class="hljs-number">14</span>.0f]}];
<span class="hljs-comment">//é€æ˜orä¸é€æ˜ã€‚è¿™ä¸ªä¼šå½±å“storyBoardçºµåæ ‡çš„ä½ç½®ã€‚æ³¨æ„è¿™ä¸ªæ–¹æ³•ä¸`SetbackgroundImageForBarMetrics`ä¸€èµ·ä½¿ç”¨æ—¶å¯¼èˆªçš„å˜åŒ–ã€‚</span>
[[<span class="hljs-type">UINavigationBar</span> appearance] setTranslucent:<span class="hljs-type">NO</span>];
<span class="hljs-comment">//serarchBarçš„é¢œè‰²,æ¯”å¦‚è¯´å–æ¶ˆæŒ‰é’®ã€‚å†ä¹Ÿä¸ä¼šéå†å­è§†å›¾äº†ã€‚</span>
[[<span class="hljs-type">UISearchBar</span> appearance] setTintColor:[<span class="hljs-type">UIColor</span> whiteColor]];
</code></pre><p>æ¯ä¸ªæ§ä»¶çš„<code>appearance</code>éƒ½å¯ä»¥å»çœ‹ä¸‹ã€‚æœ‰æ—¶å€™èƒ½çœå¾ˆå¤šäº‹ã€‚ä¸ç”¨ä¸€ä¸ªä¸ªçš„å•ç‹¬è®¾ç½®ã€‚</p><h2>å…¶ä»–</h2><ul><li>tableViewä¸Šä¸‹æ‹‰åˆ·æ–°å´©æºƒ ä¸Šä¸‹åˆ·æ–°é¢‘ç¹æ“ä½œæ—¶æ•°ç»„å¾ˆå®¹æ˜“è¶Šç•Œã€‚ä¹‹å‰ä¸ºäº†è§£å†³è¿™ä¸ªé—®ä¸€ç›´å¾ˆå¤´å¤§ã€‚åˆ¤æ–­ä¸Šæ‹‰æ²¡ç»“æŸä¸è®©ä¸‹æ‹‰ï¼Œè¶Šç•Œçš„æ—¶å€™åˆ·æ–°tableViewä¹‹ç±»çš„ã€‚å¶å°”ä¸€æ¬¡æŠŠ<code>tableView reload</code>å†™åœ¨äº†ç»“æŸåˆ·ä¸Šä¸‹æ‹‰åˆ·æ–°æ–¹æ³•ä¹‹å‰,ç«Ÿç„¶ä¸å´©æºƒã€‚ &gt;tableViewæ•°æ®æºå˜åŒ–ä¹‹åå°½å¯èƒ½æ—©çš„åˆ·æ–°tableView,è¿™æ ·æ•°ç»„è¶Šç•Œçš„å¯èƒ½æ€§å°±ä¼šé™ä½å¾ˆå¤šã€‚</li></ul><ul><li><code>Xcode</code>archiveä¹‹åä¸Šä¼ æŠ¥é”™ <code>ERROR ITMS-90207: "Invalid Bundle. The bundle at 'example.app' does not contain a bundle executable</code></li></ul><blockquote><p>ç”¨<code>vi</code>æ‰“å¼€<code>Info.plist</code>æ£€æŸ¥æœ‰æ²¡æœ‰ç‰¹æ®Šå­—ç¬¦ã€‚æœ‰æ—¶å€™ä»åˆ«çš„åœ°æ–¹å¤åˆ¶è¿‡æ¥çš„ä¼šæœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œåˆ æ‰é‡æ–°æ·»åŠ å†æ‰“åŒ…å°±å¯ä»¥ä¸Šä¼ äº†ã€‚</p></blockquote><ul><li>åœ¨UILabelçš„textåé¢å¢åŠ ä¸€äº›ç©ºæ ¼,å¹¶å³å¯¹é½. å³å¯¹é½åç©ºæ ¼æ— æ³•æ˜¾ç¤ºã€‚<code>iOS7</code>+çš„UILabelä¼šè‡ªåŠ¨å°†textè¡Œå°¾çš„ç©ºç™½ç¬¦å…¨éƒ¨å»é™¤ã€‚åŠè§’ç©ºæ ¼<code>\0x20</code>å’Œåˆ¶è¡¨ç¬¦<code>\t</code>é™¤å¤–ã€‚åœ¨textåé¢è¿½åŠ è¿™ä¸¤ä¸ªç¬¦å·å³å¯ã€‚</li></ul><ul><li><code>Xcode</code> è°ƒè¯•çš„çŠ¶æ€æ˜¾ç¤º<code>indexing....</code>,å¡å¾ˆä¹…</li></ul><pre data-language="Swift"><code><span class="hljs-type">Open</span> your <span class="hljs-type">Project</span> <span class="hljs-type">Folder</span>.
<span class="hljs-type">Find</span> <span class="hljs-type">ProjectName</span>.xcodeproj file.
<span class="hljs-type">Right</span>-<span class="hljs-type">Click</span> <span class="hljs-type">Copy</span> and <span class="hljs-type">Paste</span> to <span class="hljs-type">Safe</span> <span class="hljs-type">Place</span>.
<span class="hljs-type">Right</span>-<span class="hljs-type">Click</span> <span class="hljs-type">Show</span> <span class="hljs-type">Package</span> <span class="hljs-type">Contents</span>.
<span class="hljs-type">Find</span> project.xcworkspace file and delete that file.
<span class="hljs-type">Reopen</span> <span class="hljs-type">Your</span> <span class="hljs-type">Project</span> and clean and <span class="hljs-type">Rebuild</span>.
</code></pre><ul><li>è‡ªå®šä¹‰é€šçŸ¥(è¿œç¨‹å’Œæœ¬åœ°)çš„å£°éŸ³æ–‡ä»¶å¯ä»¥æ”¾å…¥bundleæ–‡ä»¶å¤¹,æ³¨å†Œæ¨é€çš„æ—¶å€™å£°éŸ³æ–‡ä»¶å¡«å†™å¯¹åº”çš„è·¯å¾„å³å¯ã€‚</li></ul><pre data-language="Swift"><code><span class="hljs-keyword">let</span> notification = <span class="hljs-type">UILocalNotification</span>()
notification.soundName = <span class="hljs-string">"sound.bundle/"</span> + xxx.wav
</code></pre><ul><li><code>Swift</code> <code>print</code>åœ¨<code>Xcode</code>-&gt;<code>Devices</code>-&gt; 'xxxçš„iPhone8' ä¸ä¼šæ‰“å°æ—¥å¿—, <code>NSLog</code>ä¼šæ‰“å°ã€‚</li></ul></div></div><div id="disqus_thread"></div><script src="/Scripts/disqus.js"></script><noscript>Please enable JavaScript to view the comments</noscript></div><div class="footer pure-u-1"><div class="pure-u-1">Â© 2015-2022 pdğŸ¤©</div><div class="pure-u-1">Generated using <a href="https://github.com/johnsundell/publish">Publish</a></div></div></div></body></html>