<!DOCTYPE html><html lang="zh"><head><title>pd🤩 - iOS Developer</title><meta name="twitter:title" content="pd🤩 - iOS Developer"/><meta name="og:title" content="pd🤩 - iOS Developer"/><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css"/><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"/><link rel="stylesheet" href="/Pure/styles.css"/><link rel="stylesheet" href="/all.css"/><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script></head><body><div id="layout" class="pure-g"><div><div class="pure-menu pure-menu-horizontal pure-u-1-1 top-header"><a class="pure-menu-heading" href="/">Just do it</a><ul class="pure-menu-list"><li class="pure-menu-item"><a class="pure-menu-link" href="/about">About</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/posts">Notes</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/life">Life</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/other">Other</a></li></ul></div></div><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="header"><div id="layout" class="pure-g"><div class="author__avatar"><img src="https://avatars.githubusercontent.com/u/8196592?v=4"/></div><div class="pure-u-md-1-1 pure-u-3-4"><h1 class="brand-title">pd🤩</h1><h3 class="brand-tagline">iOS Developer</h3></div></div><div id="layout" class="pure-g"><div class="pure-u-md-1-1"><a href="https://en.wikipedia.org/wiki/Shenzhen"><i class="fas fa-map-marker-alt l-box social-icon"></i><a class="social-media" href="https://en.wikipedia.org/wiki/Shenzhen">深圳, 广东</a></a></div><div class="pure-u-md-1-1"><a href="mailto:alan.funs@gmail.com"><i class="fas fa-envelope-open-text l-box social-icon"></i><a class="social-media" href="mailto:alan.funs@gmail.com">Email</a></a></div><div class="pure-u-md-1-1"><a href="https://github.com/pdso"><i class="fab fa-github-square l-box social-icon"></i><a class="social-media" href="https://github.com/pdso">GitHub</a></a></div></div></div></div><div class="content pure-u-1 pure-u-md-3-5 pure-u-xl-6-10"><h2 class="post-title"><a href="/posts/2015-12-25-Swift-notes">Swift notes</a></h2><div class="post-meta"><div class="post-date">December 25, 2015</div><div class="post-tags"><a class="post-category post-category-ios tag variant-1" href="/tags/ios">iOS</a><a class="post-category post-category-swift tag variant-5" href="/tags/swift">Swift</a></div></div><div class="post-description"><div><blockquote><p>Swift才出来的时候看过一遍,忘记了。记下笔记加深印象。</p></blockquote><h1>变量</h1><p>let 定义一个常量 var 定义一个变量 可以不声明变量类型 变量名可用Unicode字符</p><pre data-language="Swift"><code><span class="hljs-keyword">let</span> f = <span class="hljs-number">70</span>
<span class="hljs-keyword">let</span> f1: <span class="hljs-type">Float</span> = <span class="hljs-number">70</span>
<span class="hljs-keyword">let</span> 🐶 = <span class="hljs-string">"加班狗"</span>
<span class="hljs-keyword">var</span> s: <span class="hljs-type">String</span> = <span class="hljs-string">"string"</span>
<span class="hljs-keyword">var</span> red, green, bule: <span class="hljs-type">Double</span>
<span class="hljs-keyword">let</span> `int` = <span class="hljs-string">"abc"</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Swift \(🐶)"</span>)
<span class="hljs-built_in">print</span>(f, f1, separator: <span class="hljs-string">"===="</span>, terminator: <span class="hljs-string">"\n"</span>)
</code></pre><h2>Notes</h2><ul><li>常量与变更名不能包含数学符号,箭头,保留的(或非法的)Unicode字符,-与制表符。 也不能以数字开头,但可以在常量与变量的其他地方包含数字</li><li>一量将常量或变量声明为确定的类型,就不能使用相同的名字再次声明,或者改变其存储值的类型。 同时也不能将常量与变量进行互转</li><li>避免使用关键字来定义变量,一定要使用的时候用 ` 将关键字包围</li></ul><h1>基本数据类型</h1><h2>整型</h2><p>与C相似,Swift的提供了8,16,32,64位的有符号和无符号整型。（UInt8...） 一般来说无需特别指定.用Int就好,32位平台Int和Int32长度相同;64位平台Int和Int64长度相同.</p><pre data-language="Swift"><code><span class="hljs-type">Int</span>.<span class="hljs-built_in">min</span> <span class="hljs-type">Int</span>.<span class="hljs-built_in">max</span>分别取最大值和最小值.
</code></pre><h2>浮点型</h2><p>与OC一样,swfit提供了两种</p><pre data-language="Swift"><code><span class="hljs-type">Float</span> <span class="hljs-type">Double</span>
</code></pre><h2>类型别名</h2><pre data-language="Swift"><code><span class="hljs-keyword">typealias</span> 关键字    相当于<span class="hljs-type">OC</span>的 typedef
</code></pre><h2>布尔</h2><pre data-language="Swift"><code><span class="hljs-literal">true</span> or <span class="hljs-literal">false</span>终于不是 <span class="hljs-type">YES</span> or <span class="hljs-type">NO</span>了
</code></pre><h2>元组</h2><p>元组把多个值组合在一起,每一个值可以是不同的数据类型.</p><pre data-language="Swift"><code><span class="hljs-keyword">let</span> http404Error = (<span class="hljs-number">404</span>,<span class="hljs-string">"Not Found"</span>)
类型为(<span class="hljs-type">Int</span>,<span class="hljs-type">String</span>)的元组
</code></pre><pre data-language="Swift"><code><span class="hljs-keyword">let</span> (statuCode, error) = http404Error
<span class="hljs-built_in">print</span>(statuCode,error)
将元组内容分解成单独的的常量和变量

<span class="hljs-keyword">let</span> (statuCode,<span class="hljs-number">_</span>) = http404Error
<span class="hljs-built_in">print</span>(statuCode,error)
分解的时候忽略的部分用<span class="hljs-number">_</span>标记

<span class="hljs-built_in">print</span>(http404Error.<span class="hljs-number">0</span>, http404Error.<span class="hljs-number">1</span>)
可以通过下标来访问

<span class="hljs-keyword">let</span> http200 = (code:<span class="hljs-number">200</span>, des:<span class="hljs-literal">true</span>)
<span class="hljs-built_in">print</span>(http200.code, http200.des)
定义元组的时候给元素命名,可以通过名字来取值
</code></pre><h2>可选类型</h2><pre data-language="Swift"><code>optionals 来处理可能缺失的情况,可选类型来表示:

* 有值,等于x 或者 没有值
<span class="hljs-type">Int?</span> or <span class="hljs-keyword">optional</span> <span class="hljs-type">Int</span>
</code></pre><h3>nil</h3><p>可以给可选变量赋值为nil来表示它没有值。nil不能用于非可选的常量和变量,如果要处理缺失情况,应该声明成对应的可选类型. OC中nil指向不存在的对象的指针。Swift中nil不是指针它是一个确定的值,用来表示缺失,任何类型的可选状态都可以设置为nil。</p><h3>可选值的强制解析</h3><p>当确定可选类型确实包含值之后,可以在可选的名字后面加一个感叹号来取值</p><pre data-language="Swift"><code><span class="hljs-keyword">if</span> convertNumber != <span class="hljs-literal">nil</span>{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"(converNumber!)"</span>)
}
</code></pre><p>使用!获取一个不存在可选值会导致运行时的错误。使用<code>!</code>来强制解析之前,一定要确定可选包含一个非<code>nil</code>的值。</p><h3>可选绑定</h3><p>使用可选绑定来判断可选类型是否包含值,如果包含值就把值赋给一个临时常量或变量。</p><pre data-language="Swift"><code><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> actualNumber = <span class="hljs-type">Int</span>(possbileNumber){
    <span class="hljs-built_in">print</span>(actualNumber)
}<span class="hljs-keyword">else</span>{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"not integer"</span>)
}
</code></pre><h3>隐式解析可选类型</h3><p>隐式解析可选其实就是一个普通的可选类型(可自动解析的可选类型)，但是可以被当做非可选类型来用，不需要每次都使用解析来获取值。 把想要用作可选的类型后面的问号改成感叹号来来声明一个隐式解析可选类型。</p><blockquote><p>如果在隐式解析可选类型中没有值的时候尝试取值,一样会触发运行时错误。如果一个变量之后可能变成nil请不要使用隐式解析可选。</p></blockquote><h1>运算符</h1><p>很多地方和大部分语言是相同的。只记下不同的地方。</p><h2>赋值运算符</h2><p>Swift的赋值运算符不返回任何值。</p><pre data-language="Swift"><code><span class="hljs-keyword">if</span>(x = <span class="hljs-number">1</span>){
    <span class="hljs-comment">//此句错误。再也不用担心 ==写成=了。</span>
}
</code></pre><h2>算术运算符</h2><p>Swift默认情况下不允许出现溢出情况。但可以使用Swift的溢出运算符来实现溢出运算。如(a &amp;+ b) 可用+号来拼接字符串这点与python很像。</p><h2>求余运算符</h2><p>Swift是可以对浮点数进行求余的。</p><h2>空合运算符</h2><pre data-language="Swift"><code>a ?? b
* a必须是<span class="hljs-type">Optional</span>类型
* 默认值b类型必须要和a存储值类型保持一致
相当于 a != <span class="hljs-literal">nil</span> ? a! : b
</code></pre><h2>区间运算符</h2><h3>闭区间运算符</h3><p><code>a...b</code> 定义一个从a到b(包含a和b)的所有值区间,b必须大于等于a.</p><pre data-language="Swift"><code><span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>...<span class="hljs-number">5</span>{
  <span class="hljs-built_in">print</span>(index)
}
</code></pre><h3>半开区间运算符</h3><p><code>a..&lt;b</code> 定义一个从a到b但不包括b的区间,称为半区间是因为包含第一个值不包含最后一个值. 数组的时候用。</p><h1>字符串</h1><h2>拼接</h2><p>直接使用加号</p><pre data-language="Swift"><code><span class="hljs-built_in">print</span>(<span class="hljs-string">"今天星期四"</span>+<span class="hljs-string">"明天元旦放假啊"</span>)
</code></pre><h2>字符串插值</h2><p>换句话说就是格式化字符串。个人理解是使用<code>\()</code>来占位替换.</p><pre data-language="Swift"><code><span class="hljs-keyword">let</span> tucao = <span class="hljs-string">"车牌又要到3W了"</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\(tucao)。要不要离开这个鬼地方"</span>)
</code></pre><blockquote><p>插值字符串写在括号中的表达式不能包含非转义反斜线<code>\</code>,并且不能包含回车或换行。</p></blockquote><h2>字符数量</h2><pre data-language="Swift"><code><span class="hljs-string">"数量"</span>.characters.<span class="hljs-built_in">count</span>
</code></pre><p>在Swift 中，使用可拓展的字符群集作为Character值来连接或改变字符串时，并不一定会更改字符串的字符数量。</p><p>NSString的length和characters.count返回的长度可能不一样。这个得小心了。感觉很复杂。#-_-</p><pre data-language="Swift"><code><span class="hljs-keyword">var</span> word = <span class="hljs-string">"cafe"</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"the number of characters in \(word) is \(word.characters.count)"</span>)
word += <span class="hljs-string">"\u{301}"</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"the number of characters in \(word) is \(word.characters.count)"</span>)
</code></pre><h2>访问和修改字符串</h2><h3>索引</h3><p>Swift的字符串不能用整数做索引</p><pre data-language="Swift"><code>startIndex属性区取字符串第一个字符的索引。  
endIndex属性获取最后一个字符的后面一个位置的索引.  
(endIndex不能做为一个字符串有的有效下标会越界)。   
index.predecessor()得到index的前一个索引。  
index.successor()得到index后一个索引。  
startIndex.advancedBy(<span class="hljs-number">3</span>) startIndex后面的第三个索引。  
<span class="hljs-built_in">print</span>(word[word.startIndex],
    word[word.endIndex.predecessor()],
    word[word.startIndex.successor()],
    word[word.startIndex.advancedBy(<span class="hljs-number">3</span>)])
</code></pre><p>字符串characters属性的indices属性创建一个包含全部索引Range,用来在一个字符串中访问单个字符</p><pre data-language="Swift"><code><span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> word.characters.<span class="hljs-built_in">indices</span>{
    <span class="hljs-built_in">print</span>(word[index])
}
</code></pre><h3>插入和删除</h3><pre data-language="Swift"><code><span class="hljs-keyword">var</span> s = <span class="hljs-string">"插入"</span>
s.insert(<span class="hljs-string">"啊"</span>, atIndex: s.endIndex)<span class="hljs-comment">//插入单个字符</span>
s.insertContentsOf(<span class="hljs-string">"字符串"</span>.characters, at: s.endIndex)<span class="hljs-comment">//插入字符串</span>
s.removeAtIndex(s.startIndex)<span class="hljs-comment">//移除单个</span>
<span class="hljs-keyword">let</span> range = s.endIndex.advancedBy(-<span class="hljs-number">2</span>)..&lt;s.endIndex<span class="hljs-comment">//移除子串</span>
s.removeRange(range)<span class="hljs-comment">//清空字符串</span>
<span class="hljs-built_in">print</span>(s)
</code></pre><h3>比较字符串</h3><p>== 前缀/后缀相等</p><pre data-language="Swift"><code><span class="hljs-keyword">var</span> a_ = <span class="hljs-string">"字符串1"</span>,b = <span class="hljs-string">"字符串2"</span>
<span class="hljs-built_in">print</span>(a_ == b, a_.hasPrefix(<span class="hljs-string">"字符串"</span>),b.hasSuffix(<span class="hljs-string">"2"</span>))
</code></pre></div></div></div><div class="footer pure-u-1"><div class="pure-u-1">© 2015-2022 pd🤩</div><div class="pure-u-1">Generated using <a href="https://github.com/johnsundell/publish">Publish</a></div></div></div></body></html>